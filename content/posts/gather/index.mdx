---
title: WIP 개더타운 클론코딩 😎
date: 2023-03-10
description: 원격근무 필수템 개더타운을 클론코딩해봅니다.
tags:
  - 개발
---

## 들어가며
원격근무 중 가장 유용하게 사용한 협업 도구를 꼽아보라면 저는 단연 개더타운 인데요. 귀여운 캐릭터와 직관적인 사용방법 때문인지, 사용하다보면 문득 문득 "이거 만들어보면 재미있겠는데" 생각이 들 때가 많았어요.  
그래서 이번 포스트에서는 실제로 개더타운을 클론코딩하는 사이드 프로젝트를 진행하고 배운점을 기록해보려고 합니다. 😎
***
## 어떤 기능을 구현할까요?
개더타운에 있는 모든 기능을 구현하는데에는 무리가 있기 때문에, 그 중 필수 기능이라고 생각되는 기능들을 정리해봤습니다.
- 캐릭터 생성
- 맵 및 회의실 구현
- 캐릭터 이동 구현
- 실시간 음성 공유
- 실시간 영상 공유
- 실시간 텍스트 공유  

***
## 무엇으로 구현할까요?
하는김에 써보고 싶었던 것을 모두 넣어보자고 생각했고, 그 결과 `Vite + React + Zustand` 로 구성된 FE와, `Express` 로 구성된 BE가 monorepo 에 담겨있는 형태의 프로젝트 뼈대가 갖추어졌습니다. 

추가로, 기능을 구현하기 위해서 특별히 필요한 라이브러리는 다음과 같습니다.
- 캐릭터, 맵, 이동을 구현하기 위한 [Pixi.js](https://pixijs.com/)
- 실시간 통신을 위한 [socket.io](https://socket.io/)
***
## BE 개발환경 세팅
패키지 관리자는 [bun](https://bun.sh/)을 사용했습니다.   

아래 명령어로
- typescript를 사용하기 위해 @types/node, typescript를
- 편리한 개발환경을 위해 nodemon과 ts-node를
- http 서버 구축을 위해 express, @types/express를
- socket 서버 구축을 위해 socket.io, @types/socket.io를   

설치해줍니다.

```bash
bun init
bun add -d @types/node typescript nodemon ts-node express @types/express socket.io @types/socket.io
```
src 폴더를 생성하여 기본으로 생성된 index.ts 파일을 옮겨주고, `package.json` 파일에 아래와 같이 명령어를 추가해줍니다.
```json
  "scripts": {
    "start": "nodemon --exec node --loader ts-node/esm src/index.ts", 
    "build": "tsc"
  }
```
`tsconfig.json` 파일에 아래와 같이 빌드 결과물을 담아줄 경로도 추가해줍니다.
```json
"outDir": "./build",
```
이제 아래 명령어로 dev 서버를 실행한 뒤, `src/index.ts` 파일의 내용을 변경하면 nodemon이 변경사항을 감지하여 자동으로 서버가 새로고침되는 것을 확인할 수 있습니다. 
```bash
bun run start
```
***
## FE 개발환경 세팅
FE도 마찬가지로, 패키지 관리자는 [bun](https://bun.sh/)을 사용했습니다.   

아래 명령어로 React + Typescript 샘플 프로젝트를 생성합니다. 상태관리에 사용할 Zustand와 통신에 사용할 axios, socket.io 패키지도 함께 추가합니다.

```bash
npm create vite@latest . -- --template react-ts
bun init
bun add zustand axios socket.io pixi.js -d @types/socket.io 
```

아래 명령어로 dev 서버를 실행한 뒤, `src/App.tsx` 파일의 내용을 변경하면 vite가 변경사항을 감지하여 자동으로 서버가 새로고침되는 것을 확인할 수 있습니다. 
```bash
bun run dev
```
## 캐릭터, 맵 애셋 준비하기

